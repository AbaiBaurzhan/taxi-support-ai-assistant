#!/bin/bash

echo "üöÄ –î–µ–ø–ª–æ–π –æ–±–ª–µ–≥—á–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –Ω–∞ Railway..."

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
pkill -f "python3 main.py" 2>/dev/null || true

# –ö–æ–ø–∏—Ä—É–µ–º –æ–±–ª–µ–≥—á–µ–Ω–Ω—ã–π requirements.txt
cp requirements_railway.txt requirements.txt

# –ö–æ–º–º–∏—Ç–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "üöÄ Railway –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è - —É–±—Ä–∞–Ω—ã —Ç—è–∂–µ–ª—ã–µ ML –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"

# –ü—É—à–∏–º –≤ GitHub
git push origin main

echo "‚úÖ –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ GitHub!"
echo "üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:"
echo "1. –ó–∞–π–¥–∏—Ç–µ –≤ Railway Dashboard"
echo "2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç 'taxi-support-ai-assistant'"
echo "3. –ù–∞–∂–º–∏—Ç–µ 'Deploy'"
echo "4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏"
echo ""
echo "üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è:"
echo "- –£–±—Ä–∞–Ω—ã —Ç—è–∂–µ–ª—ã–µ ML –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (numpy, sentence-transformers, faiss-cpu, etc.)"
echo "- –î–æ–±–∞–≤–ª–µ–Ω railway_optimized_client.py —Å –ø—Ä–æ—Å—Ç—ã–º –ø–æ–∏—Å–∫–æ–º"
echo "- –í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –¥–æ–ª–∂–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å—Å—è —Å 10+ –º–∏–Ω—É—Ç –¥–æ 2-3 –º–∏–Ω—É—Ç"
echo "- –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ 70% —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤–º–µ—Å—Ç–æ 80%"
echo ""
echo "üåê –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:"
echo "curl -X POST https://your-app.railway.app/chat -H 'Content-Type: application/json' -d '{\"text\": \"–ß—Ç–æ —Ç–∞–∫–æ–µ –Ω–∞—Ü–µ–Ω–∫–∞?\", \"user_id\": \"test123\", \"locale\": \"ru\"}'"
