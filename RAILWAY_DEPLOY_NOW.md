# üöÄ APARU LLM - –î–µ–ø–ª–æ–π –Ω–∞ Railway

## üìã **–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:**

### **1. üåê –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ Railway:**
- –û—Ç–∫—Ä–æ–π—Ç–µ: https://railway.app
- –ù–∞–∂–º–∏—Ç–µ "Login" ‚Üí "GitHub"
- –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ GitHub

### **2. üÜï –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç:**
- –ù–∞–∂–º–∏—Ç–µ "New Project"
- –í—ã–±–µ—Ä–∏—Ç–µ "Deploy from GitHub repo"
- –ù–∞–π–¥–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `AbaiBaurzhan/taxi-support-ai-assistant`
- –ù–∞–∂–º–∏—Ç–µ "Deploy Now"

### **3. ‚öôÔ∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
–í —Ä–∞–∑–¥–µ–ª–µ "Variables" –¥–æ–±–∞–≤—å—Ç–µ:

```bash
# LLM –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤–∞—à —Ç—É–Ω–Ω–µ–ª—å)
LLM_URL=https://45fe8195b3e7.ngrok-free.app
LLM_MODEL=aparu-support
LLM_ENABLED=true

# Telegram Bot (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω)
BOT_TOKEN=your_telegram_bot_token_here

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
PYTHON_VERSION=3.11
PORT=8000
```

### **4. üîß –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º Railway –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Python –ø—Ä–æ–µ–∫—Ç –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`.

### **5. üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º –¥–µ–ø–ª–æ–π:**
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç —Å–±–æ—Ä–∫—É
- –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–π–º–µ—Ç 2-3 –º–∏–Ω—É—Ç—ã
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –ø–æ–ª—É—á–∏—Ç–µ URL: `https://your-app.railway.app`

### **6. üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –¥–µ–ø–ª–æ–π:**

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ API:**
```bash
curl https://your-app.railway.app/health
```

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∞—Ç–∞:**
```bash
curl -X POST https://your-app.railway.app/chat \
  -H "Content-Type: application/json" \
  -d '{
    "text": "–ß—Ç–æ —Ç–∞–∫–æ–µ –Ω–∞—Ü–µ–Ω–∫–∞?",
    "user_id": "test123",
    "locale": "ru"
  }'
```

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ WebApp:**
- –û—Ç–∫—Ä–æ–π—Ç–µ: `https://your-app.railway.app/webapp`

### **7. ü§ñ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º Telegram Bot:**

#### **–í BotFather:**
1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞: `/newbot`
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ Railway Variables

#### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ WebApp:**
```bash
# –í BotFather –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
/setmenubutton
# –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ: https://your-app.railway.app/webapp
```

### **8. üîÑ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**

#### **–õ–æ–≥–∏ Railway:**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Deployments"
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
- –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—É–Ω–Ω–µ–ª—è:**
```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
curl http://localhost:4040/api/tunnels
```

## üéØ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Telegram Bot ‚Üí Railway ‚Üí ngrok ‚Üí –í–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä ‚Üí Ollama ‚Üí –û—Ç–≤–µ—Ç
     ‚Üì              ‚Üì              ‚Üì
  WebApp        FastAPI        APARU LLM
     ‚Üì              ‚Üì              ‚Üì
  Chat UI      API Server    Smart Search
```

## ‚úÖ **–ß—Ç–æ –ø–æ–ª—É—á–∏–º:**

### **üåê –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø:**
- ‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS
- ‚úÖ WebApp —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Telegram
- ‚úÖ Bot –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### **üß† –£–º–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞:**
- ‚úÖ –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å APARU
- ‚úÖ –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –∏–∑ BZ.txt
- ‚úÖ Fallback —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å (RU/KZ/EN)

### **üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- ‚úÖ –õ–æ–≥–∏ Railway
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –û—à–∏–±–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

## üö® **–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

### **1. –¢—É–Ω–Ω–µ–ª—å ngrok:**
- ‚úÖ –°–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç: `https://45fe8195b3e7.ngrok-free.app`
- ‚ö†Ô∏è URL –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ ngrok
- üí° –†–µ—à–µ–Ω–∏–µ: ngrok Pro ($8/–º–µ—Å—è—Ü) –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ URL

### **2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã —Ç—É–Ω–Ω–µ–ª—é:**
```bash
# Cloudflare Tunnel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
cloudflared tunnel --url http://localhost:11434

# Serveo (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
ssh -R 80:localhost:11434 serveo.net

# LocalTunnel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
lt --port 11434
```

### **3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
```bash
#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
while true; do
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç—É–Ω–Ω–µ–ª—å
    if ! curl -s http://localhost:4040/api/tunnels > /dev/null; then
        echo "–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Ç—É–Ω–Ω–µ–ª—å..."
        pkill ngrok
        ngrok http 11434 &
        sleep 5
        
        # –û–±–Ω–æ–≤–ª—è–µ–º Railway
        NEW_URL=$(curl -s http://localhost:4040/api/tunnels | jq -r '.tunnels[0].public_url')
        # –û–±–Ω–æ–≤–∏—Ç–µ LLM_URL –≤ Railway Variables
    fi
    sleep 300
done
```

## üéâ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç–∞–∫—Å–∏
- ‚úÖ –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–∞ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Å–º—ã—Å–ª–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ Telegram Bot + WebApp
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π API
- ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å fallback

**APARU –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!** üöÄ

## üîó **–°—Å—ã–ª–∫–∏ –¥–ª—è –¥–µ–ø–ª–æ—è:**

- **Railway:** https://railway.app
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/AbaiBaurzhan/taxi-support-ai-assistant
- **–¢—É–Ω–Ω–µ–ª—å:** https://45fe8195b3e7.ngrok-free.app
- **BotFather:** https://t.me/BotFather
